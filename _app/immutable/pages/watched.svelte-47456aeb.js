import{S as z,i as A,s as Q,w as q,x as B,y as C,q as b,o as y,B as j,K as T,v as U,L as X,l as V,g as D,e as g,k as L,t as H,c as v,a as w,d as h,m as M,h as N,M as R,b as $,J as m,j as Z,n as J,p as K,N as x,O as ee}from"../chunks/index-e6a4a4e3.js";import{L as te,C as ae,i as S}from"../chunks/Layout-a09f8e48.js";import{B as le}from"../chunks/Button-3e631b4a.js";/* empty css                               */import"../chunks/index-e1bf8e81.js";function W(o,e,a){const t=o.slice();return t[4]=e[a],t}function Y(o){let e,a,t,s,l,i,c,f,n=o[4].title+"",r,u,p,k;function O(){return o[2](o[4])}return p=new le({props:{type:"secondary",$$slots:{default:[se]},$$scope:{ctx:o}}}),p.$on("click",O),{c(){e=g("div"),a=g("div"),t=g("img"),i=L(),c=g("div"),f=g("h3"),r=H(n),u=L(),q(p.$$.fragment),this.h()},l(d){e=v(d,"DIV",{class:!0});var _=w(e);a=v(_,"DIV",{class:!0});var E=w(a);t=v(E,"IMG",{src:!0,alt:!0}),E.forEach(h),i=M(_),c=v(_,"DIV",{class:!0});var I=w(c);f=v(I,"H3",{});var P=w(f);r=N(P,n),P.forEach(h),u=M(I),B(p.$$.fragment,I),I.forEach(h),_.forEach(h),this.h()},h(){R(t.src,s="https://image.tmdb.org/t/p/w500/"+o[4].poster_path)||$(t,"src",s),$(t,"alt",l=`Poster of ${o[4].title}`),$(a,"class","img-container"),$(c,"class","details"),$(e,"class","card")},m(d,_){D(d,e,_),m(e,a),m(a,t),m(e,i),m(e,c),m(c,f),m(f,r),m(c,u),C(p,c,null),k=!0},p(d,_){o=d,(!k||_&1&&!R(t.src,s="https://image.tmdb.org/t/p/w500/"+o[4].poster_path))&&$(t,"src",s),(!k||_&1&&l!==(l=`Poster of ${o[4].title}`))&&$(t,"alt",l),(!k||_&1)&&n!==(n=o[4].title+"")&&Z(r,n);const E={};_&128&&(E.$$scope={dirty:_,ctx:o}),p.$set(E)},i(d){k||(b(p.$$.fragment,d),k=!0)},o(d){y(p.$$.fragment,d),k=!1},d(d){d&&h(e),j(p)}}}function se(o){let e;return{c(){e=H("Remove from watched")},l(a){e=N(a,"Remove from watched")},m(a,t){D(a,e,t)},d(a){a&&h(e)}}}function F(o,e){let a,t,s,l=e[4].title!==""&&Y(e);return{key:o,first:null,c(){a=V(),l&&l.c(),t=V(),this.h()},l(i){a=V(),l&&l.l(i),t=V(),this.h()},h(){this.first=a},m(i,c){D(i,a,c),l&&l.m(i,c),D(i,t,c),s=!0},p(i,c){e=i,e[4].title!==""?l?(l.p(e,c),c&1&&b(l,1)):(l=Y(e),l.c(),b(l,1),l.m(t.parentNode,t)):l&&(J(),y(l,1,1,()=>{l=null}),K())},i(i){s||(b(l),s=!0)},o(i){y(l),s=!1},d(i){i&&h(a),l&&l.d(i),i&&h(t)}}}function G(o){let e,a,t;return{c(){e=g("div"),a=g("h3"),t=H("You have not watched anything yet."),this.h()},l(s){e=v(s,"DIV",{class:!0});var l=w(e);a=v(l,"H3",{});var i=w(a);t=N(i,"You have not watched anything yet."),i.forEach(h),l.forEach(h),this.h()},h(){$(e,"class","empty-list")},m(s,l){D(s,e,l),m(e,a),m(a,t)},d(s){s&&h(e)}}}function re(o){let e,a=[],t=new Map,s,l,i=o[0];const c=n=>n[4].id;for(let n=0;n<i.length;n+=1){let r=W(o,i,n),u=c(r);t.set(u,a[n]=F(u,r))}let f=o[0].length===0&&G();return{c(){e=g("div");for(let n=0;n<a.length;n+=1)a[n].c();s=L(),f&&f.c(),this.h()},l(n){e=v(n,"DIV",{class:!0});var r=w(e);for(let u=0;u<a.length;u+=1)a[u].l(r);s=M(r),f&&f.l(r),r.forEach(h),this.h()},h(){$(e,"class","list")},m(n,r){D(n,e,r);for(let u=0;u<a.length;u+=1)a[u].m(e,null);m(e,s),f&&f.m(e,null),l=!0},p(n,r){r&3&&(i=n[0],J(),a=x(a,r,c,1,n,i,t,e,ee,F,s,W),K()),n[0].length===0?f||(f=G(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(n){if(!l){for(let r=0;r<i.length;r+=1)b(a[r]);l=!0}},o(n){for(let r=0;r<a.length;r+=1)y(a[r]);l=!1},d(n){n&&h(e);for(let r=0;r<a.length;r+=1)a[r].d();f&&f.d()}}}function ne(o){let e,a;return e=new ae({props:{$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,s){C(e,t,s),a=!0},p(t,s){const l={};s&129&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){j(e,t)}}}function oe(o){let e,a;return e=new te({props:{$$slots:{default:[ne]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,s){C(e,t,s),a=!0},p(t,[s]){const l={};s&129&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){j(e,t)}}}function ie(o,e,a){let t;T(o,S,c=>a(3,t=c));let s=[];U(()=>{a(0,s=t.watched)});function l(c){const f=s.filter(r=>r.id!==c.id),n={...t,watched:f};X(S,t=n,t),a(0,s=t.watched)}return[s,l,c=>{l(c)}]}class de extends z{constructor(e){super(),A(this,e,ie,oe,Q,{})}}export{de as default};
