import{S as A,i as Q,s as T,w as q,x as B,y as C,q as w,o as y,B as F,K as U,v as W,L as X,l as V,g as D,e as v,k as L,t as j,c as g,a as b,d as _,m as M,h as H,M as P,b as $,J as d,j as Z,n as K,p as O,N as x,O as ee}from"../chunks/index-e6a4a4e3.js";import{L as te,C as se,i as R}from"../chunks/Layout-a09f8e48.js";import{B as ae}from"../chunks/Button-3e631b4a.js";/* empty css                               */import"../chunks/index-e1bf8e81.js";function S(n,e,s){const t=n.slice();return t[4]=e[s],t}function Y(n){let e,s,t,l,a,i,c,f,o=n[4].title+"",r,u,p,k;function z(){return n[2](n[4])}return p=new ae({props:{type:"secondary",$$slots:{default:[le]},$$scope:{ctx:n}}}),p.$on("click",z),{c(){e=v("div"),s=v("div"),t=v("img"),i=L(),c=v("div"),f=v("h3"),r=j(o),u=L(),q(p.$$.fragment),this.h()},l(m){e=g(m,"DIV",{class:!0});var h=b(e);s=g(h,"DIV",{class:!0});var E=b(s);t=g(E,"IMG",{src:!0,alt:!0}),E.forEach(_),i=M(h),c=g(h,"DIV",{class:!0});var I=b(c);f=g(I,"H3",{});var N=b(f);r=H(N,o),N.forEach(_),u=M(I),B(p.$$.fragment,I),I.forEach(_),h.forEach(_),this.h()},h(){P(t.src,l="https://image.tmdb.org/t/p/w500/"+n[4].poster_path)||$(t,"src",l),$(t,"alt",a=`Poster of ${n[4].title}`),$(s,"class","img-container"),$(c,"class","details"),$(e,"class","card")},m(m,h){D(m,e,h),d(e,s),d(s,t),d(e,i),d(e,c),d(c,f),d(f,r),d(c,u),C(p,c,null),k=!0},p(m,h){n=m,(!k||h&1&&!P(t.src,l="https://image.tmdb.org/t/p/w500/"+n[4].poster_path))&&$(t,"src",l),(!k||h&1&&a!==(a=`Poster of ${n[4].title}`))&&$(t,"alt",a),(!k||h&1)&&o!==(o=n[4].title+"")&&Z(r,o);const E={};h&128&&(E.$$scope={dirty:h,ctx:n}),p.$set(E)},i(m){k||(w(p.$$.fragment,m),k=!0)},o(m){y(p.$$.fragment,m),k=!1},d(m){m&&_(e),F(p)}}}function le(n){let e;return{c(){e=j("Remove from favorites")},l(s){e=H(s,"Remove from favorites")},m(s,t){D(s,e,t)},d(s){s&&_(e)}}}function G(n,e){let s,t,l,a=e[4].title!==""&&Y(e);return{key:n,first:null,c(){s=V(),a&&a.c(),t=V(),this.h()},l(i){s=V(),a&&a.l(i),t=V(),this.h()},h(){this.first=s},m(i,c){D(i,s,c),a&&a.m(i,c),D(i,t,c),l=!0},p(i,c){e=i,e[4].title!==""?a?(a.p(e,c),c&1&&w(a,1)):(a=Y(e),a.c(),w(a,1),a.m(t.parentNode,t)):a&&(K(),y(a,1,1,()=>{a=null}),O())},i(i){l||(w(a),l=!0)},o(i){y(a),l=!1},d(i){i&&_(s),a&&a.d(i),i&&_(t)}}}function J(n){let e,s,t;return{c(){e=v("div"),s=v("h3"),t=j("You have no favorites"),this.h()},l(l){e=g(l,"DIV",{class:!0});var a=b(e);s=g(a,"H3",{});var i=b(s);t=H(i,"You have no favorites"),i.forEach(_),a.forEach(_),this.h()},h(){$(e,"class","empty-list")},m(l,a){D(l,e,a),d(e,s),d(s,t)},d(l){l&&_(e)}}}function re(n){let e,s=[],t=new Map,l,a,i=n[0];const c=o=>o[4].id;for(let o=0;o<i.length;o+=1){let r=S(n,i,o),u=c(r);t.set(u,s[o]=G(u,r))}let f=n[0].length===0&&J();return{c(){e=v("div");for(let o=0;o<s.length;o+=1)s[o].c();l=L(),f&&f.c(),this.h()},l(o){e=g(o,"DIV",{class:!0});var r=b(e);for(let u=0;u<s.length;u+=1)s[u].l(r);l=M(r),f&&f.l(r),r.forEach(_),this.h()},h(){$(e,"class","list")},m(o,r){D(o,e,r);for(let u=0;u<s.length;u+=1)s[u].m(e,null);d(e,l),f&&f.m(e,null),a=!0},p(o,r){r&3&&(i=o[0],K(),s=x(s,r,c,1,o,i,t,e,ee,G,l,S),O()),o[0].length===0?f||(f=J(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(o){if(!a){for(let r=0;r<i.length;r+=1)w(s[r]);a=!0}},o(o){for(let r=0;r<s.length;r+=1)y(s[r]);a=!1},d(o){o&&_(e);for(let r=0;r<s.length;r+=1)s[r].d();f&&f.d()}}}function oe(n){let e,s;return e=new se({props:{$$slots:{default:[re]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){C(e,t,l),s=!0},p(t,l){const a={};l&129&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){F(e,t)}}}function ne(n){let e,s;return e=new te({props:{$$slots:{default:[oe]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,l){C(e,t,l),s=!0},p(t,[l]){const a={};l&129&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){F(e,t)}}}function ie(n,e,s){let t;U(n,R,c=>s(3,t=c));let l=[];W(()=>{s(0,l=t.favorites)});function a(c){const f=l.filter(r=>r.id!==c.id),o={...t,favorites:f};X(R,t=o,t),s(0,l=t.favorites)}return[l,a,c=>{a(c)}]}class me extends A{constructor(e){super(),Q(this,e,ie,ne,T,{})}}export{me as default};
