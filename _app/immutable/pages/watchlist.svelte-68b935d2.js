import{S as X,i as Z,s as x,w as q,x as B,y as C,q as b,o as E,B as j,K as tt,v as et,L as Y,l as V,g as I,e as k,k as W,t as H,c as w,a as D,d as _,m as M,h as N,M as A,b as v,J as p,j as at,n as T,p as z,N as lt,O as st}from"../chunks/index-e6a4a4e3.js";import{L as nt,C as ot,i as R}from"../chunks/Layout-a09f8e48.js";import{B as F}from"../chunks/Button-3e631b4a.js";/* empty css                               */import"../chunks/index-e1bf8e81.js";function G(o,t,a){const e=o.slice();return e[6]=t[a],e}function J(o){let t,a,e,n,l,i,f,c,s=o[6].title+"",r,u,d,P,$,y;function Q(){return o[3](o[6])}d=new F({props:{$$slots:{default:[rt]},$$scope:{ctx:o}}}),d.$on("click",Q);function U(){return o[4](o[6])}return $=new F({props:{type:"secondary",$$slots:{default:[it]},$$scope:{ctx:o}}}),$.$on("click",U),{c(){t=k("div"),a=k("div"),e=k("img"),i=W(),f=k("div"),c=k("h3"),r=H(s),u=W(),q(d.$$.fragment),P=W(),q($.$$.fragment),this.h()},l(m){t=w(m,"DIV",{class:!0});var h=D(t);a=w(h,"DIV",{class:!0});var L=D(a);e=w(L,"IMG",{src:!0,alt:!0}),L.forEach(_),i=M(h),f=w(h,"DIV",{class:!0});var g=D(f);c=w(g,"H3",{});var S=D(c);r=N(S,s),S.forEach(_),u=M(g),B(d.$$.fragment,g),P=M(g),B($.$$.fragment,g),g.forEach(_),h.forEach(_),this.h()},h(){A(e.src,n="https://image.tmdb.org/t/p/w500/"+o[6].poster_path)||v(e,"src",n),v(e,"alt",l=`Poster of ${o[6].title}`),v(a,"class","img-container"),v(f,"class","details"),v(t,"class","card")},m(m,h){I(m,t,h),p(t,a),p(a,e),p(t,i),p(t,f),p(f,c),p(c,r),p(f,u),C(d,f,null),p(f,P),C($,f,null),y=!0},p(m,h){o=m,(!y||h&1&&!A(e.src,n="https://image.tmdb.org/t/p/w500/"+o[6].poster_path))&&v(e,"src",n),(!y||h&1&&l!==(l=`Poster of ${o[6].title}`))&&v(e,"alt",l),(!y||h&1)&&s!==(s=o[6].title+"")&&at(r,s);const L={};h&512&&(L.$$scope={dirty:h,ctx:o}),d.$set(L);const g={};h&512&&(g.$$scope={dirty:h,ctx:o}),$.$set(g)},i(m){y||(b(d.$$.fragment,m),b($.$$.fragment,m),y=!0)},o(m){E(d.$$.fragment,m),E($.$$.fragment,m),y=!1},d(m){m&&_(t),j(d),j($)}}}function rt(o){let t;return{c(){t=H("Watched")},l(a){t=N(a,"Watched")},m(a,e){I(a,t,e)},d(a){a&&_(t)}}}function it(o){let t;return{c(){t=H("Remove from watchlist")},l(a){t=N(a,"Remove from watchlist")},m(a,e){I(a,t,e)},d(a){a&&_(t)}}}function K(o,t){let a,e,n,l=t[6].title!==""&&J(t);return{key:o,first:null,c(){a=V(),l&&l.c(),e=V(),this.h()},l(i){a=V(),l&&l.l(i),e=V(),this.h()},h(){this.first=a},m(i,f){I(i,a,f),l&&l.m(i,f),I(i,e,f),n=!0},p(i,f){t=i,t[6].title!==""?l?(l.p(t,f),f&1&&b(l,1)):(l=J(t),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(T(),E(l,1,1,()=>{l=null}),z())},i(i){n||(b(l),n=!0)},o(i){E(l),n=!1},d(i){i&&_(a),l&&l.d(i),i&&_(e)}}}function O(o){let t,a,e;return{c(){t=k("div"),a=k("h3"),e=H("You have not added anything to watch"),this.h()},l(n){t=w(n,"DIV",{class:!0});var l=D(t);a=w(l,"H3",{});var i=D(a);e=N(i,"You have not added anything to watch"),i.forEach(_),l.forEach(_),this.h()},h(){v(t,"class","empty-list")},m(n,l){I(n,t,l),p(t,a),p(a,e)},d(n){n&&_(t)}}}function ct(o){let t,a=[],e=new Map,n,l,i=o[0];const f=s=>s[6].id;for(let s=0;s<i.length;s+=1){let r=G(o,i,s),u=f(r);e.set(u,a[s]=K(u,r))}let c=o[0].length===0&&O();return{c(){t=k("div");for(let s=0;s<a.length;s+=1)a[s].c();n=W(),c&&c.c(),this.h()},l(s){t=w(s,"DIV",{class:!0});var r=D(t);for(let u=0;u<a.length;u+=1)a[u].l(r);n=M(r),c&&c.l(r),r.forEach(_),this.h()},h(){v(t,"class","list")},m(s,r){I(s,t,r);for(let u=0;u<a.length;u+=1)a[u].m(t,null);p(t,n),c&&c.m(t,null),l=!0},p(s,r){r&7&&(i=s[0],T(),a=lt(a,r,f,1,s,i,e,t,st,K,n,G),z()),s[0].length===0?c||(c=O(),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(s){if(!l){for(let r=0;r<i.length;r+=1)b(a[r]);l=!0}},o(s){for(let r=0;r<a.length;r+=1)E(a[r]);l=!1},d(s){s&&_(t);for(let r=0;r<a.length;r+=1)a[r].d();c&&c.d()}}}function ft(o){let t,a;return t=new ot({props:{$$slots:{default:[ct]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,n){C(t,e,n),a=!0},p(e,n){const l={};n&513&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){a||(b(t.$$.fragment,e),a=!0)},o(e){E(t.$$.fragment,e),a=!1},d(e){j(t,e)}}}function ut(o){let t,a;return t=new nt({props:{$$slots:{default:[ft]},$$scope:{ctx:o}}}),{c(){q(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,n){C(t,e,n),a=!0},p(e,[n]){const l={};n&513&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){a||(b(t.$$.fragment,e),a=!0)},o(e){E(t.$$.fragment,e),a=!1},d(e){j(t,e)}}}function ht(o,t,a){let e;tt(o,R,s=>a(5,e=s));let n=[];et(()=>{a(0,n=e.watchlist)});function l(s){const r=n.filter(d=>d.id!==s.id),u={...e,watchlist:r};Y(R,e=u,e),a(0,n=e.watchlist)}function i(s){const r={id:s.id,title:s.title,poster_path:s.poster_path},u=[...e.watched,r],d={...e,watched:u};Y(R,e=d,e),l(s)}return[n,l,i,s=>{i(s)},s=>{l(s)}]}class gt extends X{constructor(t){super(),Z(this,t,ht,ut,x,{})}}export{gt as default};
