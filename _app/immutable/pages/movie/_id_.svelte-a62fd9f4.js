import{S as wt,i as $t,s as bt,w as Q,x as X,y as Z,q as tt,o as et,B as st,K as Et,v as yt,e as v,k as F,t as y,c as u,a as w,d,m as M,h as D,M as N,b as c,g as ft,J as i,j as C,L as O}from"../../chunks/index-e6a4a4e3.js";import{L as Dt,C as It,i as Y}from"../../chunks/Layout-a09f8e48.js";import{B as _t}from"../../chunks/Button-3e631b4a.js";import"../../chunks/index-e1bf8e81.js";function Pt(o){let e;return{c(){e=y(o[2])},l(s){e=D(s,o[2])},m(s,t){ft(s,e,t)},p(s,t){t&4&&C(e,s[2])},d(s){s&&d(e)}}}function kt(o){let e;return{c(){e=y(o[1])},l(s){e=D(s,o[1])},m(s,t){ft(s,e,t)},p(s,t){t&2&&C(e,s[1])},d(s){s&&d(e)}}}function Lt(o){let e,s,t,r,f,I,$,P,k,m,j,R,h,L,a=o[0].title+"",p,_,A,rt,K=o[0].runtime+"",H,ot,at,V,it,x=o[0].popularity.toFixed()+"",J,lt,b,nt,E,ct,S,T,G=o[0].overview+"",U,g;return b=new _t({props:{$$slots:{default:[Pt]},$$scope:{ctx:o}}}),b.$on("click",o[6]),E=new _t({props:{type:"secondary",$$slots:{default:[kt]},$$scope:{ctx:o}}}),E.$on("click",o[7]),{c(){e=v("div"),s=v("div"),t=v("img"),I=F(),$=v("div"),P=v("div"),k=v("div"),m=v("img"),R=F(),h=v("div"),L=v("h1"),p=y(a),_=F(),A=v("p"),rt=y("Duration "),H=y(K),ot=y(" minutes"),at=F(),V=v("p"),it=y("Popularity "),J=y(x),lt=F(),Q(b.$$.fragment),nt=F(),Q(E.$$.fragment),ct=F(),S=v("div"),T=v("p"),U=y(G),this.h()},l(n){e=u(n,"DIV",{class:!0});var l=w(e);s=u(l,"DIV",{class:!0});var W=w(s);t=u(W,"IMG",{src:!0,alt:!0,class:!0}),W.forEach(d),I=M(l),$=u(l,"DIV",{class:!0});var B=w($);P=u(B,"DIV",{class:!0});var dt=w(P);k=u(dt,"DIV",{class:!0});var vt=w(k);m=u(vt,"IMG",{src:!0,alt:!0,class:!0}),vt.forEach(d),dt.forEach(d),R=M(B),h=u(B,"DIV",{});var q=w(h);L=u(q,"H1",{class:!0});var ut=w(L);p=D(ut,a),ut.forEach(d),_=M(q),A=u(q,"P",{class:!0});var z=w(A);rt=D(z,"Duration "),H=D(z,K),ot=D(z," minutes"),z.forEach(d),at=M(q),V=u(q,"P",{class:!0});var pt=w(V);it=D(pt,"Popularity "),J=D(pt,x),pt.forEach(d),q.forEach(d),B.forEach(d),lt=M(l),X(b.$$.fragment,l),nt=M(l),X(E.$$.fragment,l),ct=M(l),S=u(l,"DIV",{class:!0});var mt=w(S);T=u(mt,"P",{class:!0});var ht=w(T);U=D(ht,G),ht.forEach(d),mt.forEach(d),l.forEach(d),this.h()},h(){N(t.src,r="https://image.tmdb.org/t/p/w500/"+o[0].backdrop_path)||c(t,"src",r),c(t,"alt",f=`Poster of ${o[0].title}`),c(t,"class","svelte-1c6p7r4"),c(s,"class","banner svelte-1c6p7r4"),N(m.src,j="https://image.tmdb.org/t/p/w500/"+o[0].poster_path)||c(m,"src",j),c(m,"alt",""),c(m,"class","svelte-1c6p7r4"),c(k,"class","poster svelte-1c6p7r4"),c(P,"class","poster-container svelte-1c6p7r4"),c(L,"class","svelte-1c6p7r4"),c(A,"class","svelte-1c6p7r4"),c(V,"class","svelte-1c6p7r4"),c($,"class","info svelte-1c6p7r4"),c(T,"class","svelte-1c6p7r4"),c(S,"class","body svelte-1c6p7r4"),c(e,"class","movie svelte-1c6p7r4")},m(n,l){ft(n,e,l),i(e,s),i(s,t),i(e,I),i(e,$),i($,P),i(P,k),i(k,m),i($,R),i($,h),i(h,L),i(L,p),i(h,_),i(h,A),i(A,rt),i(A,H),i(A,ot),i(h,at),i(h,V),i(V,it),i(V,J),i(e,lt),Z(b,e,null),i(e,nt),Z(E,e,null),i(e,ct),i(e,S),i(S,T),i(T,U),g=!0},p(n,l){(!g||l&1&&!N(t.src,r="https://image.tmdb.org/t/p/w500/"+n[0].backdrop_path))&&c(t,"src",r),(!g||l&1&&f!==(f=`Poster of ${n[0].title}`))&&c(t,"alt",f),(!g||l&1&&!N(m.src,j="https://image.tmdb.org/t/p/w500/"+n[0].poster_path))&&c(m,"src",j),(!g||l&1)&&a!==(a=n[0].title+"")&&C(p,a),(!g||l&1)&&K!==(K=n[0].runtime+"")&&C(H,K),(!g||l&1)&&x!==(x=n[0].popularity.toFixed()+"")&&C(J,x);const W={};l&8196&&(W.$$scope={dirty:l,ctx:n}),b.$set(W);const B={};l&8194&&(B.$$scope={dirty:l,ctx:n}),E.$set(B),(!g||l&1)&&G!==(G=n[0].overview+"")&&C(U,G)},i(n){g||(tt(b.$$.fragment,n),tt(E.$$.fragment,n),g=!0)},o(n){et(b.$$.fragment,n),et(E.$$.fragment,n),g=!1},d(n){n&&d(e),st(b),st(E)}}}function At(o){let e,s;return e=new It({props:{$$slots:{default:[Lt]},$$scope:{ctx:o}}}),{c(){Q(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),s=!0},p(t,r){const f={};r&8199&&(f.$$scope={dirty:r,ctx:t}),e.$set(f)},i(t){s||(tt(e.$$.fragment,t),s=!0)},o(t){et(e.$$.fragment,t),s=!1},d(t){st(e,t)}}}function jt(o){let e,s;return e=new Dt({props:{$$slots:{default:[At]},$$scope:{ctx:o}}}),{c(){Q(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),s=!0},p(t,[r]){const f={};r&8199&&(f.$$scope={dirty:r,ctx:t}),e.$set(f)},i(t){s||(tt(e.$$.fragment,t),s=!0)},o(t){et(e.$$.fragment,t),s=!1},d(t){st(e,t)}}}function Vt(){return{API_KEY:"ece7e15008c217e82d89a01d42e22de5"}}async function gt({fetch:o,params:e}){const s=await o(`https://api.themoviedb.org/3/movie/${e.id}?api_key=${Vt().API_KEY}`),t=await s.json();if(s.ok)return{props:{movie:t}};throw new Error("Something went wrong")}function Bt(o,e,s){let t;Et(o,Y,a=>s(8,t=a));let{movie:r}=e,f="Add to favorites",I="Add to watchlist";function $(){const a={id:r.id,title:r.title,poster_path:r.poster_path},p=[...t.watchlist,a],_={...t,watchlist:p};O(Y,t=_,t),s(2,I="Remove from watchlist")}function P(){const a={id:r.id,title:r.title,poster_path:r.poster_path},p=[...t.favorites,a],_={...t,favorites:p};O(Y,t=_,t),s(1,f="Remove from favorite")}function k(){const a=t.watchlist.filter(_=>_.id!==r.id),p={...t,watchlist:a};O(Y,t=p,t),s(2,I="Add to watchlist")}function m(){const a=t.favorites.filter(_=>_.id!==r.id),p={...t,favorites:a};O(Y,t=p,t),s(1,f="Add to favorites")}function j(){var a;(a=t==null?void 0:t.watchlist)!=null&&a.find(p=>p.id===r.id)?k():$()}function R(){t.favorites.find(a=>a.id===r.id)?m():P()}yt(()=>{var a;(a=t==null?void 0:t.watchlist)!=null&&a.find(p=>p.id===r.id)&&s(2,I="Remove from watchlist"),t.favorites.find(p=>p.id===r.id)&&s(1,f="Remove from favorite")});const h=()=>{j()},L=()=>{R()};return o.$$set=a=>{"movie"in a&&s(0,r=a.movie)},[r,f,I,j,R,gt,h,L]}class Tt extends wt{constructor(e){super(),$t(this,e,Bt,jt,bt,{movie:0,load:5})}get load(){return gt}}export{Tt as default};
